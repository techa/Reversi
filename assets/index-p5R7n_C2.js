(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var we=Array.isArray,jn=Array.from,en=Object.isFrozen,kt=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,An=Object.getOwnPropertyDescriptors,Ln=Object.prototype,On=Array.prototype,Nn=Object.getPrototypeOf;const xe=2,tn=4,Ie=8,nn=16,oe=32,St=64,_e=128,Xe=256,se=512,ae=1024,ke=2048,Se=4096,Me=8192,Bn=16384,Tt=32768,V=Symbol("$state"),In=Symbol("$state.frozen"),Mn=Symbol("");function rn(e){return e===this.v}function Rn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Wn(e){return!Rn(e,this.v)}const We=1,$t=2,Vn=4,sn=8,zn=16,vt=64,Dn=1,Hn=2,Pe=Symbol(),Wt=["touchstart","touchmove","touchend"];function Fn(e){throw new Error("effect_in_teardown")}function qn(){throw new Error("effect_in_unowned_derived")}function Yn(e){throw new Error("effect_orphan")}function Un(){throw new Error("effect_update_depth_exceeded")}function Kn(){throw new Error("state_unsafe_mutation")}function ue(e){return{f:0,reactions:null,equals:rn,v:e,version:0}}function dt(e){var n;const t=ue(e);return t.equals=Wn,Y!==null&&Y.l!==null&&((n=Y.l).s??(n.s=[])).push(t),t}function Q(e,t){var n=e.v!==Pe;return!le&&n&&G!==null&&mt()&&G.f&xe&&Kn(),e.equals(t)||(e.v=t,e.version++,mt()&&n&&B!==null&&B.f&se&&!(B.f&oe)&&(q!==null&&q.includes(e)?(ie(B,ae),lt(B)):he===null?lr([e]):he.push(e)),At(e,ae,!0)),t}function Xn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Gn(e){if(we(e))for(var t=0;t<e.length;t++){var n=e[t];n.isConnected&&n.remove()}else e.isConnected&&e.remove()}function Zn(e){B===null&&G===null&&Yn(),Et&&Fn()}function Vt(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Re(e,t,n){var r=(e&St)!==0,i={ctx:Y,deps:null,dom:null,f:e|ae,first:null,fn:t,last:null,next:null,parent:r?null:B,prev:null,teardown:null,transitions:null};if(n){var s=Ae;try{Dt(!0),st(i),i.f|=Bn}finally{Dt(s)}}else t!==null&&lt(i);var l=n&&i.deps===null&&i.first===null&&i.dom===null&&i.teardown===null;if(!l&&G!==null&&!r){var c=G.f;c&xe&&(c&_e&&qn(),B!==null&&Vt(i,B)),Vt(i,G)}return i}function ln(e){const t=Re(Ie,null,!1);return ie(t,se),t.teardown=e,t}function Jn(e){Zn();var t=B!==null&&(B.f&Ie)!==0&&Y!==null&&!Y.m;if(t){var n=Y;(n.e??(n.e=[])).push(e)}else{var r=Ct(e);return r}}function Qn(e){const t=Re(St,e,!0);return()=>{nt(t)}}function Ct(e){return Re(tn,e,!1)}function tt(e){return Re(Ie,e,!0)}function R(e){return tt(e)}function on(e,t=0){return Re(Ie|nn|t,e,!0)}function Ve(e){return Re(Ie|oe,e,!0)}function an(e){var t=e.teardown;if(t!==null){const n=Et,r=le;Ht(!0),Ft(!0);try{t.call(null)}finally{Ht(n),Ft(r)}}}function nt(e,t=!0){var n=e.dom;if(n!==null&&t&&Gn(n),jt(e,t),it(e,0),ie(e,Me),e.transitions)for(const i of e.transitions)i.stop();an(e);var r=e.parent;r!==null&&e.f&oe&&r.first!==null&&un(e),e.next=e.prev=e.teardown=e.ctx=e.dom=e.deps=e.parent=e.fn=null}function un(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function ht(e,t){var n=[];Pt(e,n,!0),cn(n,()=>{nt(e),t&&t()})}function cn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Pt(e,t,n){if(!(e.f&Se)){if(e.f^=Se,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&Tt)!==0||(r.f&oe)!==0;Pt(r,t,s?n:!1),r=i}}}function Ge(e){fn(e,!0)}function fn(e,t){if(e.f&Se){e.f^=Se,De(e)&&st(e);for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Tt)!==0||(n.f&oe)!==0;fn(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}function be(e,t=!0,n=null,r){if(typeof e=="object"&&e!=null&&!en(e)&&!(In in e)){if(V in e){const s=e[V];if(s.t===e||s.p===e)return s.p}const i=Nn(e);if(i===Ln||i===On){const s=new Proxy(e,er);return kt(e,V,{value:{s:new Map,v:ue(0),a:we(e),i:t,p:s,t:e},writable:!0,enumerable:!1}),s}}return e}function _t(e,t){if(typeof e=="object"&&e!=null&&V in e){const n=t.get(e);if(n!==void 0)return n;if(we(e)){const r=[];t.set(e,r);for(const i of e)r.push(_t(i,t));return r}else{const r={},i=Reflect.ownKeys(e),s=An(e);t.set(e,r);for(const l of i)if(l!==V)if(s[l].get)kt(r,l,s[l]);else{const c=e[l];r[l]=_t(c,t)}return r}}return e}function ct(e){return _t(e,new Map)}function zt(e,t=1){Q(e,e.v+t)}const er={defineProperty(e,t,n){if(n.value){const r=e[V],i=r.s.get(t);i!==void 0&&Q(i,be(n.value,r.i,r))}return Reflect.defineProperty(e,t,n)},deleteProperty(e,t){const n=e[V],r=n.s.get(t),i=n.a,s=delete e[t];if(i&&s){const l=n.s.get("length"),c=e.length-1;l!==void 0&&l.v!==c&&Q(l,c)}return r!==void 0&&Q(r,Pe),s&&zt(n.v),s},get(e,t,n){var s;if(t===V)return Reflect.get(e,V);const r=e[V];let i=r.s.get(t);if(i===void 0&&(!(t in e)||(s=Rt(e,t))!=null&&s.writable)&&(i=(r.i?ue:dt)(be(e[t],r.i,r)),r.s.set(t,i)),i!==void 0){const l=z(i);return l===Pe?void 0:l}return Reflect.get(e,t,n)},getOwnPropertyDescriptor(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&"value"in n){const i=e[V].s.get(t);i&&(n.value=z(i))}return n},has(e,t){var s;if(t===V)return!0;const n=e[V],r=Reflect.has(e,t);let i=n.s.get(t);return(i!==void 0||B!==null&&(!r||(s=Rt(e,t))!=null&&s.writable))&&(i===void 0&&(i=(n.i?ue:dt)(r?be(e[t],n.i,n):Pe),n.s.set(t,i)),z(i)===Pe)?!1:r},set(e,t,n,r){const i=e[V];let s=i.s.get(t);s===void 0&&(xn(()=>r[t]),s=i.s.get(t)),s!==void 0&&Q(s,be(n,i.i,i));const l=i.a,c=!(t in e);if(l&&t==="length")for(let o=n;o<e.length;o+=1){const a=i.s.get(o+"");a!==void 0&&Q(a,Pe)}if(e[t]=n,c){if(l){const o=i.s.get("length"),a=e.length;o!==void 0&&o.v!==a&&Q(o,a)}zt(i.v)}return!0},ownKeys(e){const t=e[V];return z(t.v),Reflect.ownKeys(e)}};function Ze(e){if(e!==null&&typeof e=="object"&&V in e){var t=e[V];if(t)return t.p}return e}function tr(e,t){return Object.is(Ze(e),Ze(t))}function nr(e){for(var t=0;t<e.length;t++)e[t]()}let Je=!1,pt=[];function vn(){Je=!1;const e=pt.slice();pt=[],nr(e)}function rt(e){Je||(Je=!0,queueMicrotask(vn)),pt.push(e)}function rr(){Je&&vn()}function qe(e){let t=xe|ae;B===null&&(t|=_e);const n={deps:null,deriveds:null,equals:rn,f:t,first:null,fn:e,last:null,reactions:null,v:null,version:0};if(G!==null&&G.f&xe){var r=G;r.deriveds===null?r.deriveds=[n]:r.deriveds.push(n)}return n}function dn(e){jt(e);var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)ir(t[n])}}function hn(e,t){dn(e);var n=pn(e),r=(Ee||e.f&_e)&&e.deps!==null?ke:se;ie(e,r);var i=e.equals(n);return i||(e.v=n,At(e,ae,t)),i}function ir(e){dn(e),it(e,0),ie(e,Me),e.first=e.last=e.deps=e.reactions=e.fn=null}const _n=0,sr=1;let Ye=_n,ze=!1,Ae=!1,Et=!1;function Dt(e){Ae=e}function Ht(e){Et=e}function Ft(e){le=e}let ye=[],Le=0,G=null,B=null,q=null,F=0,he=null;function lr(e){he=e}let le=!1,Ee=!1,Y=null;function mt(){return Y!==null&&Y.l===null}function De(e){var _;var t=e.f,n=(t&ae)!==0,r=(t&_e)!==0;if(n&&!r)return!0;var i=(t&Xe)!==0;if(t&ke||n&&r){var s=e.deps;if(s!==null)for(var l=s.length,c,o,a=0;a<l;a++){var d=s[a];!n&&De(d)&&(c=hn(d,!0));var u=d.version;if(r){if(u>e.version)return e.version=u,!c;!Ee&&!((_=d==null?void 0:d.reactions)!=null&&_.includes(e))&&(o=d.reactions,o===null?d.reactions=[e]:o.push(e))}else{if(e.f&ae)return!0;i&&(u>e.version&&(e.version=u,n=!0),o=d.reactions,o===null?d.reactions=[e]:o.includes(e)||o.push(e))}}r||ie(e,se),i&&(e.f^=Xe)}return n}function or(e,t,n){throw e}function pn(e){const t=q,n=F,r=he,i=G,s=Ee,l=le;q=null,F=0,he=null,G=e,Ee=!Ae&&(e.f&_e)!==0,le=!1;try{let c=(0,e.fn)(),o=e.deps;if(q!==null){let a;if(o!==null){const d=o.length,u=F===0?q:o.slice(0,F).concat(q),h=u.length>16&&d-F>1?new Set(u):null;for(a=F;a<d;a++){const m=o[a];(h!==null?!h.has(m):!u.includes(m))&&mn(e,m)}}if(o!==null&&F>0)for(o.length=F+q.length,a=0;a<q.length;a++)o[F+a]=q[a];else e.deps=o=q;if(!Ee)for(a=F;a<o.length;a++){const d=o[a],u=d.reactions;u===null?d.reactions=[e]:u[u.length-1]!==e&&u.push(e)}}else o!==null&&F<o.length&&(it(e,F),o.length=F);return c}finally{q=t,F=n,he=r,G=i,Ee=s,le=l}}function mn(e,t){const n=t.reactions;let r=0;if(n!==null){r=n.length-1;const i=n.indexOf(e);i!==-1&&(r===0?t.reactions=null:(n[i]=n[r],n.pop()))}r===0&&t.f&xe&&(ie(t,ke),t.f&(_e|Xe)||(t.f^=Xe),it(t,0))}function it(e,t){const n=e.deps;if(n!==null){const r=t===0?null:n.slice(0,t);let i;for(i=t;i<n.length;i++){const s=n[i];(r===null||!r.includes(s))&&mn(e,s)}}}function jt(e,t=!0){let n=e.first;e.first=null,e.last=null;for(var r;n!==null;)r=n.next,nt(n,t),n=r}function st(e){var t=e.f;if(!(t&Me)){ie(e,se);var n=e.ctx,r=B,i=Y;B=e,Y=n;try{t&nn||jt(e),an(e);var s=pn(e);e.teardown=typeof s=="function"?s:null}catch(l){or(l)}finally{B=r,Y=i}}}function gn(){Le>1e3&&(Le=0,Un()),Le++}function bn(e){var t=e.length;if(t!==0){gn();var n=Ae;Ae=!0;try{for(var r=0;r<t;r++){var i=e[r];if(i.first===null&&!(i.f&oe))qt([i]);else{var s=[];yn(i,s),qt(s)}}}finally{Ae=n}}}function qt(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];!(r.f&(Me|Se))&&De(r)&&(st(r),r.deps===null&&r.first===null&&r.dom===null&&(r.teardown===null?un(r):r.fn=null))}}function ar(){if(ze=!1,Le>1001)return;const e=ye;ye=[],bn(e),ze||(Le=0)}function lt(e){Ye===_n&&(ze||(ze=!0,queueMicrotask(ar)));for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&oe){if(!(n&se))return;ie(t,ke)}}ye.push(t)}function yn(e,t){var n=e.first,r=[];e:for(;n!==null;){var i=n.f,s=(i&(Me|Se))===0,l=i&oe,c=(i&se)!==0,o=n.first;if(s&&(!l||!c)){if(l&&ie(n,se),i&Ie){if(!l&&De(n)&&(st(n),o=n.first),o!==null){n=o;continue}}else if(i&tn)if(l||c){if(o!==null){n=o;continue}}else r.push(n)}var a=n.next;if(a===null){let _=n.parent;for(;_!==null;){if(e===_)break e;var d=_.next;if(d!==null){n=d;continue e}_=_.parent}}n=a}for(var u=0;u<r.length;u++)o=r[u],t.push(o),yn(o,t)}function wn(e,t=!0){var n=Ye,r=ye;try{gn();const s=[];Ye=sr,ye=s,ze=!1,t&&bn(r);var i=e==null?void 0:e();return rr(),(ye.length>0||s.length>0)&&wn(),Le=0,i}finally{Ye=n,ye=r}}function z(e){const t=e.f;if(t&Me)return e.v;if(G!==null&&!(G.f&(oe|St))&&!le){const n=(G.f&_e)!==0,r=G.deps;q===null&&r!==null&&r[F]===e&&!(n&&B!==null)?F++:(r===null||F===0||r[F-1]!==e)&&(q===null?q=[e]:q[q.length-1]!==e&&q.push(e)),he!==null&&B!==null&&B.f&se&&!(B.f&oe)&&he.includes(e)&&(ie(B,ae),lt(B))}return t&xe&&De(e)&&hn(e,!1),e.v}function At(e,t,n){var r=e.reactions;if(r!==null)for(var i=mt(),s=r.length,l=0;l<s;l++){var c=r[l],o=c.f;if(!(o&ae||(!n||!i)&&c===B)){ie(c,t);var a=(o&ke)!==0,d=(o&_e)!==0;(o&se||a&&d)&&(c.f&xe?At(c,ke,n):lt(c))}}}function xn(e){const t=le;try{return le=!0,e()}finally{le=t}}const ur=~(ae|ke|se);function ie(e,t){e.f=e.f&ur|t}function cr(e){return typeof e=="object"&&e!==null&&typeof e.f=="number"}function He(e,t=!1,n){Y={p:Y,c:null,e:null,m:!1,s:e,x:null,l:null},t||(Y.l={s:null,u:null,r1:[],r2:ue(!1)})}function Fe(e){const t=Y;if(t!==null){const r=t.e;if(r!==null){t.e=null;for(var n=0;n<r.length;n++)Ct(r[n])}Y=t.p,t.m=!0}return{}}function C(e){return cr(e)?z(e):e}let fr=!1;var gt;function vr(){if(gt===void 0){gt=window;var e=Element.prototype;e.__click=void 0,e.__className="",e.__attributes=null,e.__e=void 0,Text.prototype.__t=void 0}}function ot(){return document.createTextNode("")}function p(e){return e.firstChild}function K(e,t){return e.firstChild}function f(e,t=!1){var n=e.nextSibling;return n}function dr(e){e.textContent=""}function hr(e,t,n,r){function i(s){if(r.capture||bt(t,s),!s.cancelBubble)return n.call(this,s)}return e.startsWith("pointer")||e==="wheel"?rt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function de(e,t,n,r,i){var s={capture:r,passive:i},l=hr(e,t,n,s);(t===document.body||t===window||t===document)&&ln(()=>{t.removeEventListener(e,l,s)})}function Lt(e){for(var t=0;t<e.length;t++)kn.add(e[t]);for(var n of yt)n(e)}function bt(e,t){var x;var n=e.ownerDocument,r=t.type,i=((x=t.composedPath)==null?void 0:x.call(t))||[],s=i[0]||t.target,l=0,c=t.__root;if(c){var o=i.indexOf(c);if(o!==-1&&(e===document||e===window)){t.__root=e;return}var a=i.indexOf(e);if(a===-1)return;o<=a&&(l=o+1)}s=i[l]||t.target,kt(t,"currentTarget",{configurable:!0,get(){return s||n}});try{for(var d,u=[];s!==null;){var _=s.parentNode||s.host||null;try{var h=s["__"+r];if(h!==void 0&&!s.disabled)if(we(h)){var[m,...y]=h;m.apply(s,[t,...y])}else h.call(s,t)}catch(b){d?u.push(b):d=b}if(t.cancelBubble||_===e||_===null||s===e)break;s=_}if(d){for(let b of u)queueMicrotask(()=>{throw b});throw d}}finally{t.__root=e,s=e}}const kn=new Set,yt=new Set;function D(e,t){(e.__t??(e.__t=e.nodeValue))!==t&&(e.nodeValue=e.__t=t)}function _r(e,t){const n=t.anchor??t.target.appendChild(ot());return wn(()=>pr(e,{...t,anchor:n}),!1)}function pr(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:l=!1}){vr();const c=new Set,o=bt.bind(null,t),a=bt.bind(null,document),d=h=>{for(let m=0;m<h.length;m++){const y=h[m];c.has(y)||(c.add(y),t.addEventListener(y,o,Wt.includes(y)?{passive:!0}:void 0),document.addEventListener(y,a,Wt.includes(y)?{passive:!0}:void 0))}};d(jn(kn)),yt.add(d);let u;const _=Qn(()=>(Ve(()=>{if(s){He({});var h=Y;h.c=s}i&&(r.$$events=i),u=e(n,r)||{},s&&Fe()}),()=>{for(const h of c)t.removeEventListener(h,o);yt.delete(d),Yt.delete(u)}));return Yt.set(u,_),u}let Yt=new WeakMap;function X(e,t,n,r=null,i=!1){var s=null,l=null,c=null,o=i?Tt:0;on(()=>{c!==(c=!!t())&&(c?(s?Ge(s):s=Ve(()=>n(e)),l&&ht(l,()=>{l=null})):(l?Ge(l):r&&(l=Ve(()=>r(e))),s&&ht(s,()=>{s=null})))},o)}let ft=null;function je(e,t){return t}function mr(e,t,n){for(var r=[],i=e.length,s=0;s<i;s++)Pt(e[s].e,r,!0);var l=i>0&&r.length===0&&t!==null;if(l){var c=t.parentNode;dr(c),c.append(t),n.clear(),fe(e[0].prev,e[i-1].next)}cn(r,()=>{for(var o=0;o<i;o++){var a=e[o];l||(n.delete(a.k),a.o.remove(),fe(a.prev,a.next)),nt(a.e,!l)}})}function ge(e,t,n,r,i,s=null){var l={flags:t,items:new Map,next:null},c=(t&sn)!==0;if(c){var o=e;e=o.appendChild(ot())}var a=null;on(()=>{var d=n(),u=we(d)?d:d==null?[]:Array.from(d),_=u.length,h=l.flags;h&vt&&!en(u)&&!(V in u)&&(h^=vt,h&Vn&&!(h&We)&&(h^=We)),gr(u,l,e,i,h,r),s!==null&&(_===0?a?Ge(a):a=Ve(()=>s(e)):a!==null&&ht(a,()=>{a=null}))})}function gr(e,t,n,r,i,s){var Z,ee,te,J;var l=(i&zn)!==0,c=(i&(We|$t))!==0,o=e.length,a=t.items,d=t.next,u=d,_=new Set,h=t,m=new Set,y=[],x=[],b,L,w,g;if(l)for(g=0;g<o;g+=1)b=e[g],L=s(b,g),w=a.get(L),w!==void 0&&((Z=w.a)==null||Z.measure(),m.add(w));for(g=0;g<o;g+=1){if(b=e[g],L=s(b,g),w=a.get(L),w===void 0){var $=ot(),I=u?u.o:n;I.before($),h=yr($,I,h,h.next,b,L,g,r,i),a.set(L,h),y=[],x=[],u=h.next;continue}if(c&&br(w,b,g,i),w.e.f&Se&&(Ge(w.e),l&&((ee=w.a)==null||ee.unfix(),m.delete(w))),w!==u){if(_.has(w)){if(y.length<x.length){var O=x[0],M;h=O.prev;var U=y[0],j=y[y.length-1];for(M=0;M<y.length;M+=1)Ut(y[M],O,n);for(M=0;M<x.length;M+=1)_.delete(x[M]);fe(U.prev,j.next),fe(h,U),fe(j,O),u=O,h=j,g-=1,y=[],x=[]}else _.delete(w),Ut(w,u,n),fe(w.prev,w.next),fe(w,h.next),fe(h,w),h=w;continue}for(y=[],x=[];u!==null&&u.k!==L;)_.add(u),x.push(u),u=u.next;if(u===null)continue;w=u}y.push(w),h=w,u=w.next}const E=Array.from(_);for(;u!==null;)E.push(u),u=u.next;var A=E.length;if(A>0){var T=i&sn&&o===0?n:null;if(l){for(g=0;g<A;g+=1)(te=E[g].a)==null||te.measure();for(g=0;g<A;g+=1)(J=E[g].a)==null||J.fix()}mr(E,T,a)}l&&rt(()=>{var H;for(w of m)(H=w.a)==null||H.apply()})}function br(e,t,n,r){r&We&&Q(e.v,t),r&$t?Q(e.i,n):e.i=n}function yr(e,t,n,r,i,s,l,c,o){var a=ft;try{var d=(o&We)!==0,u=(o&vt)===0,_=d?u?dt(i):ue(i):i,h=o&$t?ue(l):l,m={i:h,v:_,k:s,a:null,e:null,o:e,prev:n,next:r};return n.next=m,r!==null&&(r.prev=m),ft=m,m.e=Ve(()=>c(t,_,h)),m}finally{ft=a}}function Ut(e,t,n){for(var r=e.next?e.next.o:n,i=t?t.o:n,s=e.o;s!==r;){var l=s.nextSibling;i.before(s),s=l}}function fe(e,t){e.next=t,t!==null&&(t.prev=e)}function Ot(e,t=B){var n=t.dom;return n===null?t.dom=e:(we(n)||(n=t.dom=[n]),we(e)?n.push(...e):n.push(e)),e}function P(e,t){var n=(t&Dn)!==0,r=(t&Hn)!==0,i;return()=>{i||(i=Xn(e),n||(i=i.firstChild));var s=r?document.importNode(i,!0):i.cloneNode(!0);return Ot(n?[...s.childNodes]:s),s}}function Sn(e,t,n="svg"){var r=P(`<${n}>${e}</${n}>`,0),i;return()=>{if(!i){var s=r();for(i=document.createDocumentFragment();s.firstChild;)i.appendChild(s.firstChild)}var l=i.cloneNode(!0);return Ot([...l.childNodes]),l}}function Oe(){var e=document.createDocumentFragment(),t=ot();return e.append(t),Ot([t]),e}function k(e,t){e.before(t)}let Kt=!1;function wr(){Kt||(Kt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Ne(e,t,n){n=n==null?null:n+"";var r=e.__attributes??(e.__attributes={});r[t]!==(r[t]=n)&&(t==="loading"&&(e[Mn]=n),n===null?e.removeAttribute(t):e.setAttribute(t,n))}function wt(e,t){var n=e.__className,r=xr(t);(n!==r||fr)&&(t==null?e.removeAttribute("class"):e.className=r,e.__className=r)}function xr(e){return e??""}function Xt(e,t,n){n?e.classList.add(t):e.classList.remove(t)}function ve(e,t,n,r){const i=e.style,s=i.getPropertyValue(t);n==null?s!==""&&i.removeProperty(t):s!==n&&i.setProperty(t,n,"")}function Tn(e,t,n,r=n){e.addEventListener(t,n);const i=e.__on_r;i?e.__on_r=()=>{i(),r()}:e.__on_r=r,wr()}function Ue(e,t,n){Tn(e,"input",()=>{n(Gt(e)?Zt(e.value):e.value)}),tt(()=>{var r=t();Gt(e)&&r===Zt(e.value)||e.type==="date"&&!r&&!e.value||(e.value=r??"")})}function Ce(e,t,n,r,i){var s=n.getAttribute("type")==="checkbox",l=e;if(t!==null)for(var c of t){var o=l;l=o[c],l===void 0&&(l=o[c]=[])}l.push(n),Tn(n,"change",()=>{var a=n.__value;s&&(a=kr(l,a,n.checked)),i(a)},()=>i(s?[]:null)),tt(()=>{var a=r();s?(a=a||[],n.checked=Ze(a).includes(Ze(n.__value))):n.checked=tr(n.__value,a)}),ln(()=>{var a=l.indexOf(n);a!==-1&&l.splice(a,1)}),rt(()=>{l.sort((a,d)=>a.compareDocumentPosition(d)===4?-1:1)})}function kr(e,t,n){for(var r=new Set,i=0;i<e.length;i+=1)e[i].checked&&r.add(e[i].__value);return n||r.delete(t),Array.from(r)}function Gt(e){var t=e.type;return t==="number"||t==="range"}function Zt(e){return e===""?null:+e}function Jt(e,t){var r;var n=e&&((r=e[V])==null?void 0:r.t);return e===t||n===t}function Sr(e,t,n,r){Ct(()=>{var i,s;return tt(()=>{i=s,s=[],xn(()=>{e!==n(...s)&&(t(e,...s),i&&Jt(n(...i),e)&&t(null,...i))})}),()=>{rt(()=>{s&&Jt(n(...s),e)&&t(null,...s)})}})}const Tr="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Tr);var N=(e=>(e[e.OutSide=-1]="OutSide",e[e.Null=0]="Null",e[e.B=1]="B",e[e.W=2]="W",e))(N||{});const Qe=[[0,-1],[0,1],[1,0],[-1,0],[1,-1],[-1,1],[-1,-1],[1,1]];class $r{constructor(){this.boardSize=8,this.initialPlacement="cross",this.mode="2",this.yourColor=1,this.turn=1,this.sym=1,this.tiles=[],this.opens=[],this.botMode=!1,this.demo=!1,this.singlePlayerMode=!1,this.whiteCount=0,this.blackCount=0}nextTurn(){this.turn++,this.sym=this.turn%2===0?2:1}get blackPlayerName(){const t=this.mode;return t==="2"||t==="demo"?"Black":t==="single"&&this.yourColor===1?"You":"AI"}get whitePlayerName(){const t=this.mode;return t==="2"||t==="demo"?"White":t==="single"&&this.yourColor===2?"You":"AI"}setOptions(t={}){this.boardSize=t.boardSize??this.boardSize,this.initialPlacement=t.initialPlacement??this.initialPlacement,this.mode=t.mode??this.mode,this.random=t.random??Math.random,this.initialPlacement==="random"&&(this.initialPlacement=this.random()>.5?"cross":"parallel");const n=t.yourColor;this.yourColor=n==null?this.yourColor:n>0?n:this.random()>.5?1:2}init(t={}){this.setOptions(t),this.turn=1,this.sym=1,this.initBoardArray(),this.initialPieces(),this.demo=this.mode==="demo";const n=this.mode==="single";return this.singlePlayerMode=n,this.botMode=n||this.demo,this.demo||n&&this.yourColor===2?this.$aiTurn():this.$playerTurn(),this}initBoardArray(){this.tiles=[];for(let t=0;t<this.boardSize**2;t++)this.tiles.push(0)}initialPieces(t=this.initialPlacement){const n=(this.boardSize/2|0)-1;for(let r=0;r<4;r++){let i=n,s=n;(r===2||r===3)&&(s+=1),(r===1||r===3)&&(i+=1);let l=1;(t==="cross"&&(!r||r===3)||t==="parallel"&&r<2)&&(l=2),this.$setTile(i,s,l)}this.$tilesCounting()}isTileEmpty(t,n){return this.getTile(t,n)===0}getTile(t,n){return t<0||n<0||t>=this.boardSize||n>=this.boardSize?-1:this.tiles[n*this.boardSize+t]}$setTile(t,n,r){this.tiles[n*this.boardSize+t]=r}$tilesUpdate(t,n){const r=this.tiles.slice();this.directionEach(t,n,(i,s)=>{r[s*this.boardSize+i]=this.sym}),this.tiles=r}$aiTurn(){if(this.botMode){const t=this.ai_nextHand();this._doTheMove(this.addTile(t.x,t.y),!0)}else throw new Error("$aiTurn() is invaild")}checkOKtoPlace(t,n){for(const r of Qe)if(this.checkDirection(t,n,r))return!0;return!1}checkDirection(t,n,r){const{boardSize:i,sym:s}=this,l=r[0],c=r[1],o=[t<2,!1,t>i-3][l+1],a=[n<2,!1,n>i-3][c+1];if(!(o||a)){const d=this.getTile(t+l,n+c);if(d&&d!==s){const u=l<0?t:i-t-1,_=c<0?n:i-n-1,h=(l&&c?Math.min(u,_):l?u:c?_:0)+1;for(let m=2;m<h;m++){const y=this.getTile(t+m*l,n+m*c);if(y===s)return!0;if(!y)return!1}}}return!1}isAiTurn(){return this.mode==="2"?!1:this.mode==="demo"?!0:this.yourColor===1?!!(this.turn%2):!(this.turn%2)}$insert(t){this.tiles=t.tiles,this.sym=t.sym,this.turn=t.turn,this.nextTurn(),this.$tilesCounting(),this._doTheMove(this._checkSlots(),this.isAiTurn())}hit(t,n){this.checkOKtoPlace(t,n)?this._doTheMove(this.addTile(t,n)):this.S_invalid()}addTile(t,n){return this.S_place(),this.$setTile(t,n,this.sym),this.$tilesUpdate(t,n),this.$addHistory(t,n),this.nextTurn(),this.$tilesCounting(),this._checkSlots()}_doTheMove(t,n=!1){t.empty>0?t.movable>0?(this.$turnSwitch(),n?this.singlePlayerMode?this.$playerTurn():this.$aiTurn():this.singlePlayerMode?this.$aiTurn():this.$playerTurn()):(this.nextTurn(),this._checkSlots().movable>0?n?this.$aiTurn():this.$playerTurn():(this.botMode=!1,this.$checkWin())):(this.botMode=!1,this.$checkWin())}_checkSlots(){let t=0,n=0;for(let r=0;r<this.boardSize;r++)for(let i=0;i<this.boardSize;i++)this.isTileEmpty(i,r)&&(t++,this.checkOKtoPlace(i,r)&&n++);return{empty:t,movable:n}}$tilesCounting(){this.whiteCount=0,this.blackCount=0;for(const t of this.tiles)t===2&&(this.whiteCount+=1),t===1&&(this.blackCount+=1)}directionEach(t,n,r){for(const i of Qe)if(this.checkDirection(t,n,i)){let s=!1;const l=i[0],c=i[1];for(;!s;)if(this.isTileEmpty(t+l,n+c))s=!0;else{let o=1,a=t+l*o,d=n+c*o;for(;this.getTile(a,d)!==this.sym;)r(a,d),o++,a=t+l*o,d=n+c*o;s=!0}}}$checkWin(){return this.blackCount>this.whiteCount?`${this.blackPlayerName} Win!`:this.blackCount<this.whiteCount?`${this.whitePlayerName} Win!`:"It is a Draw!!"}S_invalid(){throw new Error("hit: invalid position x or y")}}const Ke=[{},{count:[1,1,1]},{count:[-1,0,1],opens:[0,1,.5],position_corner:.5,blur:3},{count:[-1,0,1],opens:[0,1,.5],position_corner:1,position_corner_clue:-1,position_edge:[1,-.5],blur:2},{count:[-1,0,1],opens:[.5,.5,.5],opensAll:[0,1,.5],position_corner:1,position_corner_clue:-1,position_edge:[.5,-.5,.5],blur:1},{count:[-1,0,1],opens:[.5,.5,.5],opensAll:[0,1,.5],position_corner:1,position_corner_clue:-1,position_edge:[.5,-.5,.5],next_turn:100,fixed:1,blur:0}],et=Ke.length-1;class Cr extends $r{constructor(){super(...arguments),this.boardLog=[],this.thinking=!1}_corner_clue(t,n,r,i){const s=r>2?-1:1,l=i>2?-1:1;return this.isTileEmpty(r,i)&&((r>2?t>=r-1:t<=1)&&n===i+l||(i>2?n>=i-1:n<=1)&&t===r+s)}getScore(t,n){const{x:r,y:i,scores:s}=t,{boardSize:l,term:c}=this;Ke[n]||console.log("lv",n);const{count:o,opens:a,opensAll:d,position_corner:u,position_corner_clue:_,position_edge:h,next_turn:m,fixed:y}=Ke[n];o&&(s.count+=t.count*o[c]),d&&(s.opensAll+=(l-this.openedAll(r,i)/t.count)*d[c]),a&&(s.opens+=(l-this.opened(r,i))*a[c]);const x=l-1;if(u&&(r===0&&i===0||r===0&&i===x||r===x&&i===0||r===x&&i===x)&&(s.position_corner+=l*u),_&&(this._corner_clue(r,i,0,0)||this._corner_clue(r,i,0,x)||this._corner_clue(r,i,x,0)||this._corner_clue(r,i,x,x))&&(s.position_corner_clue+=l*_),h)for(let b=0;b<h.length;b++)(r===b||r===x-b)&&(s.position_edge[b]+=l*h[b]),(i===b||i===x-b)&&(s.position_edge[b]+=l*h[b]);if(m){if(this.logging(),this.term===2){const b=this.addTile(r,i);b.empty&&(b.movable||(s.next_turn+=m))}this.reset()}y&&(s.fixed+=t.fixed*y);for(const b in s){const L=s[b];Array.isArray(L)?s.total+=L.reduce((w,g)=>w+g,0):b!=="total"&&typeof L=="number"&&(s.total+=L)}return t}logging(){this.thinking=!0,this.boardLog.push({tiles:this.tiles.slice(),counter:this.turn})}reset(t=0){const n=this.boardLog[t];if(n){const{tiles:r,counter:i}=n;this.tiles=r,this.turn=i,this.sym=this.turn%2===0?N.W:N.B}this.boardLog=[],t||(this.thinking=!1)}init(t={}){return this.aiPlayer1LV=t.aiPlayer1LV??1,this.aiPlayer2LV=t.aiPlayer2LV??1,super.init(t)}get term(){const t=this.countPer;if(t>.8)return 2;if(t>.6){if(this.random()>(t-.6)/.2)return 2}else{if(t>.4)return 1;if(t>.2&&this.random()>(t-.2)/.2)return 1}return 0}get countPer(){const t=this.boardSize**2-4;return this.turn/t}ai_nextHand(){const t=this.mode==="single"?this.aiPlayer1LV:this.sym===N.B?this.aiPlayer1LV:this.aiPlayer2LV;return this.pick(this.getHands(t),Ke[t].blur)}pick(t,n=.001){return t=t.filter(r=>r.scores.total>=this.hiScore-n).sort((r,i)=>i.scores.total-r.scores.total),t[Math.floor(this.random()*t.length)]}getHands(t){const{boardSize:n}=this,r=[];this.hiScore=-1/0;for(let i=0;i<n;i++)for(let s=0;s<n;s++)if(this.isTileEmpty(s,i)&&this.checkOKtoPlace(s,i)){const l=this.getHand(s,i,t);l.scores.total>this.hiScore&&(this.hiScore=l.scores.total),l&&r.push(l)}return r}getHand(t,n,r){const i={x:t,y:n,count:this.accumulator(t,n),opens:this.opened(t,n),opensAll:this.openedAll(t,n),fixed:this.fixedCount(t,n),scores:{count:0,opens:0,opensAll:0,position_corner:0,position_corner_clue:0,position_edge:[0,0,0],next_turn:0,fixed:0,total:0}};return this.getScore(i,r),i}accumulator(t,n){let r=0;return this.directionEach(t,n,()=>r++),r}_opened(t,n,r=!1){const{boardSize:i}=this;Qe.forEach(s=>{const l=t+s[0],c=n+s[1];if(l>=0&&l<i&&c>=0&&c<i&&(!r||r[0]!==l||r[1]!==c)&&this.isTileEmpty(l,c)){const o=c*i+l;this.opens.indexOf(o)===-1&&this.opens.push(o)}})}opened(t,n){return this.opens=[],this._opened(t,n),this.opens.length}openedAll(t,n){return this.opens=[],this.directionEach(t,n,(r,i)=>{this._opened(r,i,[t,n])}),this._opened(t,n),this.opens.length}fixed(t,n,r,i){let s=[],l=[],c;const o=u=>u.some(_=>(c=_)!==t),a=u=>{let _=t;for(let h=0;h<u.length;h++){const m=u[h];if(m===N.Null){if(c===N.Null||_===N.Null)return!0;if(_!==t)return u.length-h>1}_=m}return!1},d=(u,_)=>i&&u===i[0]&&_===i[1]?this.sym:this.getTile(u,_);for(let u=0;u<8;u++){const[_,h]=Qe[u];u%2===0&&(s=[],l=[]);let m=0;for(;;){m++;let y=n+_*m,x=r+h*m;const b=d(y,x);if(b===N.OutSide)break;u%2===0?s.push(b):l.push(b)}if(u%2&&(o(s)&&a(l)||o(l)&&a(s)))return!1}return!0}fixedCount(t,n){let r=0;return this.directionEach(t,n,(i,s)=>{this.fixed(this.sym,i,s,[t,n])&&r++}),this.fixed(this.sym,t,n)&&r++,r}}const Pr="/Reversi/assets/button-21-DYoJOxhZ.mp3",Er="/Reversi/assets/button-24-DyWko4Bq.mp3",jr="/Reversi/assets/button-16-CUHLgPTu.mp3";var xt=(e=>(e[e.Beep=0]="Beep",e[e.Invalid=1]="Invalid",e[e.Place=2]="Place",e))(xt||{});class Ar{constructor(){this.mute=!1,this.sources={0:Pr,1:Er,2:jr}}play(t){this.mute||new Audio(this.sources[t]).play()}}function Lr(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}function $n(e){return e?"black":"white"}function Or(e,t,n){return e<t?t:e>n?n:e}const S=be({boardSize:8,initialPlacement:"cross",yourColor:N.B,mode:"2",aiPlayer1LV:et,aiPlayer2LV:et});var Be=(e=>(e[e.Hide=0]="Hide",e[e.BackOrRestart=1]="BackOrRestart",e[e.Config=2]="Config",e))(Be||{}),ne=(e=>(e[e.Top=0]="Top",e[e.AILVSelect=1]="AILVSelect",e[e.Game=2]="Game",e))(ne||{}),Nt=(e=>(e[e.BoardWidthMax=800]="BoardWidthMax",e))(Nt||{});const v=be({tiles:[],history:[],playerTurn:!1,activePlayerName:"",blackTurn:!0,whiteTurn:!1,blackScore:2,whiteScore:2,turn:0,page:0,modal:0,winlose:"",hand:null,handPosition:null,mute:!1,aiWait:2e3}),re=new class extends Cr{constructor(){super(...arguments),this.sounds=new Ar}init(e){return clearTimeout(this.timerID),v.winlose="",v.turn=this.turn,super.init(e),v.history=[{sym:this.sym,x:-1,y:-1,tiles:ct(this.tiles),turn:0}],this.$turnSwitch(),this}$playerTurn(){this.thinking||(v.playerTurn=!0)}$aiTurn(){this.thinking?super.$aiTurn():(clearTimeout(this.timerID),v.page===2&&(this.timerID=setTimeout(()=>{super.$aiTurn()},Or(v.aiWait,500,4e3))))}$setTile(e,t,n){super.$setTile(e,t,n),this.thinking||(v.tiles=this.tiles,v.playerTurn=!1,v.hand=null)}$tilesUpdate(e,t){super.$tilesUpdate(e,t),this.thinking||(v.tiles=this.tiles)}$insert(e){v.playerTurn=!1,super.$insert(e),v.tiles=e.tiles,v.turn=e.turn}$addHistory(e,t){if(!this.thinking){const n=v.history[v.history.length-this.turn],r=n&&(n.x!=e||n.y!==t);v.history.length>this.turn&&r&&(v.history=v.history.slice(-this.turn)),(!n||r)&&v.history.unshift({sym:this.sym,x:e,y:t,tiles:ct(this.tiles),turn:ct(this.turn)})}}$tilesCounting(){this.thinking||(super.$tilesCounting(),v.blackScore=this.blackCount,v.whiteScore=this.whiteCount,v.turn=this.turn)}$turnSwitch(){this.thinking||(this.sym===N.W?(v.blackTurn=!1,v.whiteTurn=!0):(v.blackTurn=!0,v.whiteTurn=!1),v.activePlayerName=this.sym===N.B?this.blackPlayerName:this.whitePlayerName)}$checkWin(){const e=super.$checkWin();return this.thinking||(v.blackTurn=!1,v.whiteTurn=!1,v.modal=1,v.winlose=e),e}S_invalid(){this.thinking||(console.log("Invalid Move"),this.sounds.play(xt.Invalid))}S_place(){this.thinking||this.sounds.play(xt.Place)}getSymColor(e=this.sym){return e===N.B?"black":"white"}};var Nr=P("<div></div>"),Br=P('<div class="can-hit" role="presentation"> </div>'),Ir=P('<div class="can-hit"><div class="predictor"></div></div>'),Mr=P('<div class="col square svelte-hv5xre" role="presentation"><!></div>'),Rr=P('<div class="row"></div>'),Wr=P('<div class="h-markers svelte-hv5xre"> </div>'),Vr=P('<div class="v-markers svelte-hv5xre"> </div>'),zr=(e,t,n,r)=>{Q(t,-1),n.$insert(C(r))},Dr=P('<div></div> <div class="last-move-number"> </div>',1),Hr=P('<div class="last-move-number">Initial</div>'),Fr=P('<div><div class="last-move-turn svelte-hv5xre"> </div> <div class="last-move-slot" role="presentation"><!></div></div>'),qr=P('<div class="history-container svelte-hv5xre"></div>'),Yr=P('<div class="board-frame svelte-hv5xre"><div class="main-board"></div> <div class="h-markers-container svelte-hv5xre"></div> <div class="v-markers-container svelte-hv5xre"></div> <div class="footer h-markers-container svelte-hv5xre"><div class="icon-wrapper svelte-hv5xre"><svg class="icon black_white svelte-hv5xre"><use></use></svg> </div> <div class="name-wrapper"> </div> <div class="score-wrapper svelte-hv5xre"><svg class="icon black_white black_score svelte-hv5xre"><use href="#black-tile"></use></svg> <svg class="icon black_white white_score svelte-hv5xre"><use href="#white-tile"></use></svg> </div></div></div> <!>',1);function Ur(e,t){He(t,!0);const{boardSize:n}=re,r=Nt.BoardWidthMax;let i=ue(640),s=ue(-1),l=Array(n).fill(0).map((j,E)=>E);function c(){const j=document.body.clientWidth;Q(i,(j>r?r:j)-24)}c();var o=Yr();de("resize",gt,c,!1);var a=K(o),d=p(a);ge(d,73,()=>l,je,(j,E,A)=>{var T=Rr();ve(T,"height",100/n+"%"),ge(T,73,()=>l,je,(ee,te,J)=>{var H=Mr();const pe=qe(()=>z(s)>-1?v.history[z(s)].tiles:v.tiles),ce=qe(()=>z(pe)[C(A)*n+C(J)]);Ne(H,"data-x-axis",C(J)),Ne(H,"data-y-axis",C(A)),H.__click=()=>{v.playerTurn&&re.hit(C(J),C(A))},Xt(H,"itimatsu",(C(A)+C(J))%2),ve(H,"width",100/n+"%");var W=p(H);X(W,()=>z(ce)>0,Te=>{var me=Nr();R(()=>wt(me,`${re.getSymColor(z(ce))??""}-tiles svelte-hv5xre`)),k(Te,me)},Te=>{var me=Oe(),at=K(me);X(at,()=>v.playerTurn&&z(s)<0&&re.checkOKtoPlace(C(J),C(A)),Cn=>{var Bt=Oe(),Pn=K(Bt);X(Pn,()=>!1,ut=>{var $e=Br();const It=qe(()=>re.getHand(C(J),C(A),S.aiPlayer1LV));var En=p($e);R(()=>D(En,z(It).scores.total.toFixed(1)||"")),de("mouseenter",$e,Mt=>{v.hand=z(It),v.handPosition=[Mt.clientX,Mt.clientY]},!1),de("mouseleave",$e,()=>{v.hand=null,v.handPosition=null},!1),k(ut,$e)},ut=>{var $e=Ir();k(ut,$e)}),k(Cn,Bt)},null,!0),k(Te,me)}),k(ee,H)}),k(j,T)});var u=f(f(d,!0));ge(u,73,()=>l,je,(j,E,A)=>{var T=Wr();ve(T,"width",100/n+"%");var Z=p(T);R(()=>D(Z,String.fromCharCode(65+C(E)))),k(j,T)});var _=f(f(u,!0));ge(_,73,()=>l,je,(j,E,A)=>{var T=Vr();ve(T,"height",100/n+"%");var Z=p(T);R(()=>D(Z,1+C(E))),k(j,T)});var h=f(f(_,!0)),m=p(h),y=p(m),x=p(y);R(()=>Ne(x,"href",`#${$n(v.blackTurn)??""}-tile`));var b=f(y,!0),L=f(f(m,!0)),w=p(L),g=f(f(L,!0)),$=p(g),I=f($,!0),O=f(I),M=f(O,!0),U=f(f(a,!0));X(U,()=>S.mode==="2"||!1,j=>{var E=qr();ge(E,79,()=>v.history,(A,T)=>C(A),(A,T,Z)=>{var ee=Fr(),te=p(ee),J=p(te),H=f(f(te,!0));H.__click=[zr,s,re,T];var pe=p(H);X(pe,()=>C(T).turn,ce=>{var W=Dr(),Te=K(W);R(()=>wt(Te,`last-move-tile-${re.getSymColor(C(T).sym)??""} svelte-hv5xre`));var me=f(f(Te,!0)),at=p(me);R(()=>D(at,String.fromCharCode(65+C(T).x)+(C(T).y+1))),k(ce,W)},ce=>{var W=Hr();k(ce,W)}),R(()=>{D(J,`Turn: ${C(T).turn??""}`),Xt(H,"active",v.turn===C(T).turn)}),de("mouseenter",H,()=>{Q(s,be(C(Z)))},!1),de("mouseleave",H,()=>{Q(s,-1)},!1),k(A,ee)}),R(()=>ve(E,"width",z(i)+"px")),k(j,E)}),R(()=>{ve(a,"--board-width",z(i)+"px"),D(b,` Turn: ${v.turn??""}`),D(w,v.activePlayerName),D(I,` ${v.blackScore??""} `),D(M,` ${v.whiteScore??""}`)}),k(e,o),Fe()}Lt(["click"]);var Kr=P('<div class="win-lose-draw svelte-75x1ig"> </div>'),Xr=e=>{e.stopPropagation()},Gr=P('<button class="selections svelte-75x1ig">Back to Top</button> <button class="selections svelte-75x1ig">Restart</button>',1),Zr=Sn('<line x1="22" x2="16" y1="9" y2="15"></line><line x1="16" x2="22" y1="9" y2="15"></line>'),Jr=Sn('<path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path><path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>'),Qr=P('<button class="svelte-75x1ig"><svg class="icon volume" stroke="white"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><!></svg></button> <div><h4 class="svelte-75x1ig">AI wait: <span> </span></h4> <input type="range" max="4000" min="500" step="100"></div>',1),ei=P('<dialog class="svelte-75x1ig"><!> <div class="result-container svelte-75x1ig"><!></div></dialog>');function ti(e,t){He(t,!0);let n;function r(o,a=!1){v.winlose&&!a||(n.close(),v.modal=Be.Hide)}Jn(()=>{n&&v.modal&&n.showModal()});var i=ei();Sr(i,o=>n=o,()=>n),i.__click=r;var s=p(i);X(s,()=>v.winlose,o=>{var a=Kr(),d=p(a);R(()=>D(d,v.winlose)),k(o,a)});var l=f(f(s,!0));l.__click=[Xr];var c=p(l);X(c,()=>v.modal===Be.BackOrRestart,o=>{var a=Gr(),d=K(a);d.__click=_=>{r(_,!0),v.page=ne.Top,re.init(S)};var u=f(f(d,!0));u.__click=_=>{r(_,!0),re.init(S)},k(o,a)},o=>{var a=Oe(),d=K(a);X(d,()=>v.modal===Be.Config,u=>{var _=Qr(),h=K(_);h.__click=()=>{v.mute=!v.mute,re.sounds.mute=v.mute};var m=p(h),y=p(m),x=f(y);X(x,()=>v.mute,I=>{var O=Zr();k(I,O)},I=>{var O=Jr();k(I,O)});var b=f(f(h,!0)),L=p(b),w=f(p(L)),g=p(w),$=f(f(L,!0));R(()=>D(g,v.aiWait)),Ue($,()=>v.aiWait,I=>v.aiWait=I),k(u,_)},null,!0),k(o,a)}),de("close",i,r,!1),k(e,i),Fe()}Lt(["click"]);var ni=P('<div><h4 class="svelte-xjnajw">Board Size: <span class="number svelte-xjnajw"> </span></h4> <label class="svelte-xjnajw"><input type="range" name="boardSize" min="4" max="12"></label></div> <div><h4 class="svelte-xjnajw">Initial Placement: <span class="svelte-xjnajw"> </span></h4> <label title="cross" class="svelte-xjnajw"><input type="radio" name="initialPlacement" checked class="svelte-xjnajw"> <svg viewBox="0 0 24 24" class="icon ip-cross svelte-xjnajw"><circle cx="6" cy="6" r="5" fill="white"></circle><circle cx="18" cy="6" r="5" fill="black"></circle><circle cx="6" cy="18" r="5" fill="black"></circle><circle cx="18" cy="18" r="5" fill="white"></circle></svg></label> <label title="parallel" class="svelte-xjnajw"><input type="radio" name="initialPlacement" class="svelte-xjnajw"> <svg viewBox="0 0 24 24" class="icon ip-parallel svelte-xjnajw"><circle cx="6" cy="6" r="5" fill="white"></circle><circle cx="18" cy="6" r="5" fill="white"></circle><circle cx="6" cy="18" r="5" fill="black"></circle><circle cx="18" cy="18" r="5" fill="black"></circle></svg></label> <label title="random" class="svelte-xjnajw"><input type="radio" name="initialPlacement" class="svelte-xjnajw"> <svg class="icon ip-random svelte-xjnajw"><use href="#random"></use></svg></label></div> <div><h4 class="svelte-xjnajw">Your Color: <span class="svelte-xjnajw"> </span></h4> <label title="black" class="svelte-xjnajw"><input type="radio" name="yourColor" checked class="svelte-xjnajw"> <svg class="icon yc-black svelte-xjnajw"><use href="#black-tile"></use></svg></label> <label title="white" class="svelte-xjnajw"><input type="radio" name="yourColor" class="svelte-xjnajw"> <svg class="icon yc-white svelte-xjnajw"><use href="#white-tile"></use></svg></label> <label title="random" class="svelte-xjnajw"><input type="radio" name="yourColor" class="svelte-xjnajw"> <svg class="icon yc-random svelte-xjnajw"><use href="#random"></use></svg></label></div>',1),ri=P('<h4 class="svelte-xjnajw">AI(White) LV: <span class="number svelte-xjnajw"> </span></h4> <label class="svelte-xjnajw"><input type="range" name="aiLv2" min="0"></label>',1),ii=P('<h4 class="svelte-xjnajw"> <span class="number svelte-xjnajw"> </span></h4> <label class="svelte-xjnajw"><input type="range" name="aiLv1" min="0"></label> <!>',1),si=P('<div class="settings-from-container svelte-xjnajw"><!></div>');function Qt(e,t){He(t,!0);const n=[],r=[];var i=si(),s=p(i);X(s,()=>v.page===ne.Top,l=>{var c=ni(),o=K(c),a=p(o),d=f(p(a)),u=p(d),_=f(f(a,!0)),h=p(_),m=f(f(o,!0)),y=p(m),x=f(p(y)),b=p(x);R(()=>D(b,Lr(S.initialPlacement)));var L=f(f(y,!0)),w=p(L);w.value=(w.__value="cross")==null?"":"cross";var g=f(f(L,!0)),$=p(g);$.value=($.__value="parallel")==null?"":"parallel";var I=f(f(g,!0)),O=p(I);O.value=(O.__value="random")==null?"":"random";var M=f(f(m,!0)),U=p(M),j=f(p(U)),E=p(j),A=f(f(U,!0)),T=p(A),Z,ee=f(f(A,!0)),te=p(ee),J,H=f(f(ee,!0)),pe=p(H),ce;R(()=>{D(u,S.boardSize),D(E,["Random","Black","White"][S.yourColor]),Z!==(Z=N.B)&&(T.value=(T.__value=N.B)==null?"":N.B),J!==(J=N.W)&&(te.value=(te.__value=N.W)==null?"":N.W),ce!==(ce=N.Null)&&(pe.value=(pe.__value=N.Null)==null?"":N.Null)}),Ue(h,()=>S.boardSize,W=>S.boardSize=W),Ce(n,[],w,()=>S.initialPlacement,W=>S.initialPlacement=W),Ce(n,[],$,()=>S.initialPlacement,W=>S.initialPlacement=W),Ce(n,[],O,()=>S.initialPlacement,W=>S.initialPlacement=W),Ce(r,[],T,()=>(N.B,S.yourColor),W=>S.yourColor=W),Ce(r,[],te,()=>(N.W,S.yourColor),W=>S.yourColor=W),Ce(r,[],pe,()=>(N.Null,S.yourColor),W=>S.yourColor=W),k(l,c)},l=>{var c=ii(),o=K(c),a=p(o),d=f(a),u=p(d),_=f(f(o,!0)),h=p(_);Ne(h,"max",et);var m=f(f(_,!0));X(m,()=>S.mode==="demo",y=>{var x=ri(),b=K(x),L=f(p(b)),w=p(L),g=f(f(b,!0)),$=p(g);Ne($,"max",et),R(()=>D(w,S.aiPlayer2LV)),Ue($,()=>S.aiPlayer2LV,I=>S.aiPlayer2LV=I),k(y,x)}),R(()=>{D(a,`AI${(S.mode==="demo"?"(Black)":"")??""} LV: `),D(u,S.aiPlayer1LV)}),Ue(h,()=>S.aiPlayer1LV,y=>S.aiPlayer1LV=y),k(l,c)}),k(e,i),Fe()}var li=P('<button class="svelte-1bnwg5f"><svg class="icon config" stroke="white"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg></button>'),oi=P("<span> </span>"),ai=P('<!> <div class="main-page-container"><button class="selections">Game Start</button> <button class="selections">Back to Top</button></div>',1),ui=(e,t)=>t("single"),ci=(e,t)=>t("2"),fi=(e,t)=>t("demo"),vi=P('<!> <div class="main-page-container"><button class="selections">Single Player</button> <button class="selections">2 Players</button> <button class="selections">Demo</button> <div class="footer svelte-1bnwg5f"><a href="https://github.com/techa/Reversi" target="_blank" rel="github repository"><img height="32" width="32" alt="github icon" src="https://cdn.simpleicons.org/github/eee"></a></div></div>',1),di=P('<div class="score-details-item"> </div>'),hi=P('<div class="score-details"></div>'),_i=P('<svg style="display: none;"><defs><symbol id="random" viewBox="0 0 24 24"><path stroke="black" d="M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22"></path><path d="m18 2 4 4-4 4" stroke="black"></path><path d="m18 14 4 4-4 4" stroke="white"></path><path d="M2 6h1.9c1.5 0 2.9.9 3.6 2.2" stroke="white"></path><path d="M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8" stroke="white"></path></symbol></defs><symbol id="black-tile" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="black"></circle></symbol><symbol id="white-tile" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="white"></circle></symbol></svg> <div class="header-wrapper svelte-1bnwg5f"><div class="btn svelte-1bnwg5f"><!></div> <div class="header svelte-1bnwg5f"><button class="title svelte-1bnwg5f"></button></div> <div class="btn svelte-1bnwg5f"><button class="svelte-1bnwg5f"><svg class="icon config" stroke="white"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg></button></div></div> <!> <div class="main-container svelte-1bnwg5f"><!></div> <!>',1);function pi(e,t){He(t,!0);const n="REVERSI";let r=ue(!1);function i(){Q(r,!z(r))}function s(g){S.mode=g,g==="2"?(v.page=ne.Game,re.init(S)):v.page=ne.AILVSelect}function l(){switch(v.page){case ne.Game:v.modal=Be.BackOrRestart;break;case ne.AILVSelect:v.page=ne.Top;break}}var c=_i(),o=K(c),a=f(f(o,!0)),d=p(a),u=p(d);X(u,()=>v.page,g=>{var $=li();$.__click=l,k(g,$)});var _=f(f(d,!0)),h=p(_);h.__click=l,ge(h,73,()=>n,je,(g,$,I)=>{var O=oi();R(()=>wt(O,`${$n((C(I)+ +z(r))%2)??""}-letter svelte-1bnwg5f`));var M=p(O);R(()=>D(M,C($))),k(g,O)});var m=f(f(_,!0)),y=p(m);y.__click=()=>{v.modal=Be.Config};var x=f(f(a,!0));ti(x,{});var b=f(f(x,!0)),L=p(b);X(L,()=>v.page===ne.Game,g=>{var $=Oe(),I=K($);Ur(I,{}),k(g,$)},g=>{var $=Oe(),I=K($);X(I,()=>v.page===ne.AILVSelect,O=>{var M=ai(),U=K(M);Qt(U,{});var j=f(f(U,!0)),E=p(j);E.__click=()=>{v.page=ne.Game,re.init(S)};var A=f(f(E,!0));A.__click=T=>{v.page=ne.Top},k(O,M)},O=>{var M=vi(),U=K(M);Qt(U,{});var j=f(f(U,!0)),E=p(j);E.__click=[ui,s];var A=f(f(E,!0));A.__click=[ci,s];var T=f(f(A,!0));T.__click=[fi,s],k(O,M)},!0),k(g,$)});var w=f(f(b,!0));X(w,()=>!1,g=>{var $=hi();ge($,73,()=>Object.entries(v.hand.scores),je,(I,O,M)=>{let U=()=>C(C(O))[0],j=()=>C(C(O))[1];var E=Oe(),A=K(E);X(A,j,T=>{var Z=di();const ee=qe(()=>v.hand[U()]);var te=p(Z);R(()=>D(te,`${`${U()}: ${typeof j()=="number"?+j().toFixed(2)+"pt":j()}`??""}${(z(ee)?` (${z(ee)})`:"")??""}`)),k(T,Z)}),k(I,E)}),R(()=>{ve($,"top",`${v.handPosition[1]+10}px`),ve($,"left",`${v.handPosition[0]+10}px`)}),k(g,$)}),R(()=>Ne(a,"style",`max-width: ${Nt.BoardWidthMax??""}px;`)),de("mouseenter",h,i,!1),de("mouseleave",h,i,!1),k(e,c),Fe()}Lt(["click"]);_r(pi,{target:document.getElementById("app")});
